import{r as e,o as a,c as t,a as s,b as o,F as i,d as r,w as n,e as l,f as d,t as c,g as p,l as u,h as m,i as f,j as g,k as y,m as v}from"./vendor.fe70f492.js";!function(e=".",a="__import__"){try{self[a]=new Function("u","return import(u)")}catch(t){const s=new URL(e,location),o=e=>{URL.revokeObjectURL(e.src),e.remove()};self[a]=e=>new Promise(((t,i)=>{const r=new URL(e,s);if(self[a].moduleMap[r])return t(self[a].moduleMap[r]);const n=new Blob([`import * as m from '${r}';`,`${a}.moduleMap['${r}']=m;`],{type:"text/javascript"}),l=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(n),onerror(){i(new Error(`Failed to import: ${e}`)),o(l)},onload(){t(self[a].moduleMap[r]),o(l)}});document.head.appendChild(l)})),self[a].moduleMap={}}}("assets/");const b={setup:()=>({})};b.render=function(s,o,i,r,n,l){const d=e("router-view");return a(),t(d)};var h=s.create({baseURL:"https://api.airtable.com/v0/appmFZOp9Eo7dvzSG",headers:{Authorization:"Bearer key1XrFuYhG1GKHvu"}});const k=o({error:"",loading:!1,data:[]});const w={setup:()=>(async function(){k.loading=!0;try{const{data:e}=await h.get("/locations",{params:{view:"Grid view"}});k.data=e.records}catch(e){k.error=e.message}finally{k.loading=!1}}(),{locations:k})},x={key:0,class:"text-center my-5"},D=l("div",{class:"spinner-border",role:"status"},[l("span",{class:"visually-hidden"},"Loading...")],-1),L={key:1,class:"list-group"},R={key:2,class:"alert alert-info",role:"alert"};w.render=function(s,o,l,p,u,m){const f=e("router-link");return p.locations.loading?(a(),t("div",x,[D])):p.locations.data.length?(a(),t("div",L,[(a(!0),t(i,null,r(p.locations.data,(({id:e,fields:s})=>(a(),t(f,{key:e,to:{name:"Location",params:{sitecoreItemId:s.GUID}},class:"list-group-item list-group-item-action"},{default:n((()=>[d(c(s.name),1)])),_:2},1032,["to"])))),128))])):(a(),t("div",R," No locations are offering programming at this time. "))};const $=o({error:"",loading:!1,data:[]}),I=p((()=>u($.data,"fields.group")));const U={props:{name:String,index:Number}},j={class:"accordion-item"},G={class:"accordion-body"},O={class:"list-group list-group-flush"};U.render=function(e,s,o,i,r,n){return a(),t("div",j,[l("h2",{class:"accordion-header",id:`heading${o.index}`},[l("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse${o.index}`,"aria-expanded":"false","aria-controls":`collapse${o.index}`},c(o.name),9,["data-bs-target","aria-controls"])],8,["id"]),l("div",{id:`collapse${o.index}`,class:"accordion-collapse collapse","aria-labelledby":`heading${o.index}`},[l("div",G,[l("ul",O,[m(e.$slots,"default")])])],8,["id","aria-labelledby"])])};const A={props:{fields:Object},methods:{currency:e=>`$${e.toFixed(2)}`}},F={class:"list-group-item mb-3"},N={class:"d-flex w-100 justify-content-between"},_={class:"fw-bold"},M={key:0},B={class:"fst-italic text-muted small"},E={key:0},P={class:"fw-bold"},S={key:0};A.render=function(e,s,o,r,n,p){var u,m;return a(),t("li",F,[l("div",N,[l("h5",_,c(o.fields.activityName[0])+" - "+c(o.fields.ages),1),o.fields.registrationURL?(a(),t("a",{key:0,href:o.fields.registrationURL,target:"_blank"},"Register",8,["href"])):f("",!0)]),(null==(u=o.fields.activityDescription)?void 0:u[0])?(a(),t("p",M,c(null==(m=o.fields.activityDescription)?void 0:m[0]),1)):f("",!0),l("p",B,[d(c(o.fields.days.join(", "))+" "+c(o.fields.times)+" ",1),o.fields.beginDate||o.fields.endDate?(a(),t("br",E)):f("",!0),o.fields.beginDate?(a(),t(i,{key:1},[d(" from "+c(o.fields.beginDate),1)],64)):f("",!0),o.fields.endDate?(a(),t(i,{key:2},[d(" until "+c(o.fields.endDate),1)],64)):f("",!0)]),l("p",P,[d(c(p.currency(o.fields.fee))+" ",1),o.fields.feeNote?(a(),t("span",S,c(o.fields.feeNote),1)):f("",!0)])])};const Y={props:{sitecoreItemId:String},components:{Group:U,Activity:A},setup:e=>(async function(e){$.loading=!0;try{const{data:a}=await h.get("/programs",{params:{filterByFormula:`AND({published}, {group} != '', '${e}' = ARRAYJOIN({locationGUID}), OR({endDate} >= TODAY(), {endDate} = ''))`,view:"Grid view"}});$.data=a.records}catch(a){$.error=a.message}finally{$.loading=!1}}(e.sitecoreItemId),{programs:$,groupedPrograms:I})},z={key:0,class:"text-center my-5"},H=l("div",{class:"spinner-border",role:"status"},[l("span",{class:"visually-hidden"},"Loading...")],-1),T={key:1,class:"accordion accordion-flush"},C={key:2,class:"alert alert-info",role:"alert"};Y.render=function(s,o,l,d,c,p){const u=e("Activity"),m=e("Group");return d.programs.loading?(a(),t("div",z,[H])):d.programs.data.length?(a(),t("div",T,[(a(!0),t(i,null,r(d.groupedPrograms,((e,s,o)=>(a(),t(m,{key:o,name:s,index:o},{default:n((()=>[(a(!0),t(i,null,r(e,(({id:e,fields:s})=>(a(),t(u,{key:e,fields:s},null,8,["fields"])))),128))])),_:2},1032,["name","index"])))),128))])):(a(),t("div",C," There are no programs at this time. "))};const J=[{path:"/",name:"Home",component:w},{path:"/:sitecoreItemId",name:"Location",component:Y,props:!0}],K=g({history:y(),routes:J});v(b).use(K).mount("#app");
